{% extends 'base.html' %}

{% block title %}Dashboard - SmartCollege{% endblock %}

{% block content %}
<h1>{{ role|title }} Dashboard</h1>
<p>Welcome back, {{ user.first_name|default:user.username }}!</p>

<div style="margin-top: 30px;">
    <h2>Quick Links</h2>
    <div class="dashboard-grid">
        
        <div class="dashboard-card">
            <h3>👤 My Profile</h3>
            <p>View and update your profile</p>
            <a href="{% url 'profile' %}" class="btn">View Profile</a>
        </div>
        
        {% if role == 'admin' %}
        <div class="dashboard-card">
            <h3>👥 User Management</h3>
            <p>Create and manage user invites</p>
            <a href="{% url 'manage_invites' %}" class="btn">Manage Users</a>
            <a href="{% url 'create_invite' %}" class="btn btn-success">Create Invite</a>
        </div>
        
        <div class="dashboard-card">
            <h3>💰 Payment Management</h3>
            <p>Manage fees and payments</p>
            <a href="{% url 'manage_fee_structures' %}" class="btn">Fee Structures</a>
            <a href="{% url 'view_all_payments' %}" class="btn">View Payments</a>
        </div>
        
        <div class="dashboard-card">
            <h3>📢 Notice Management</h3>
            <p>Create and manage notices</p>
            <a href="{% url 'manage_notices' %}" class="btn">Manage Notices</a>
            <a href="{% url 'create_notice' %}" class="btn btn-success">Create Notice</a>
        </div>
        
        <div class="dashboard-card">
            <h3>📌 Bulletin Management</h3>
            <p>Create and manage bulletins</p>
            <a href="{% url 'manage_bulletins' %}" class="btn">Manage Bulletins</a>
            <a href="{% url 'create_bulletin' %}" class="btn btn-success">Create Bulletin</a>
        </div>
        
        <div class="dashboard-card">
            <h3>🎓 College Chatbot Data</h3>
            <p>Manage college information for chatbot</p>
            <a href="{% url 'manage_colleges' %}" class="btn">Manage Colleges</a>
            <a href="{% url 'create_college' %}" class="btn btn-success">Add College</a>
        </div>
        {% endif %}
        
        <div class="dashboard-card">
            <h3>📚 Library</h3>
            <p>Access documents and resources</p>
            <a href="{% url 'list_documents' %}" class="btn">View Documents</a>
            {% if role == 'teacher' or role == 'admin' %}
            <a href="{% url 'upload_document' %}" class="btn">Upload Document</a>
            {% endif %}
        </div>
        
        {% if role == 'student' or role == 'teacher' %}
        <div class="dashboard-card">
            <h3>💬 Chat</h3>
            <p>Message students and teachers</p>
            <a href="{% url 'chat_list' %}" class="btn">Open Chat</a>
        </div>
        {% endif %}
        
        {% if role == 'student' or role == 'doctor' or role == 'admin' %}
        <div class="dashboard-card">
            <h3>🏥 Healthcare</h3>
            <p>Medical records and appointments</p>
            <a href="{% url 'view_health_records' %}" class="btn">View Records</a>
            {% if role == 'student' %}
            <a href="{% url 'book_appointment' %}" class="btn">Book Appointment</a>
            {% elif role == 'doctor' %}
            <a href="{% url 'add_health_record' %}" class="btn">Add Record</a>
            {% endif %}
            <a href="{% url 'view_appointments' %}" class="btn">View Appointments</a>
        </div>
        {% endif %}
        
        {% if role == 'student' or role == 'admin' or role == 'teacher' %}
        <div class="dashboard-card">
            <h3>📋 Attendance</h3>
            <p>Track and manage attendance</p>
            <a href="{% url 'view_attendance' %}" class="btn">View Attendance</a>
            {% if role == 'admin' or role == 'teacher' %}
            <a href="{% url 'mark_attendance_manual' %}" class="btn btn-success">Mark Attendance</a>
            <a href="{% url 'attendance_report' %}" class="btn">Attendance Report</a>
            {% endif %}
        </div>
        {% endif %}
        
        {% if role == 'student' %}
        <div class="dashboard-card">
            <h3>💳 Fee Payment</h3>
            <p>Pay fees and view history</p>
            <a href="{% url 'view_student_fees' %}" class="btn">Pay Fees</a>
            <a href="{% url 'view_payment_history' %}" class="btn">Payment History</a>
        </div>
        
        <div class="dashboard-card">
            <h3>📝 Assignments</h3>
            <p>View and submit assignments</p>
            <a href="{% url 'view_assignments' %}" class="btn">View Assignments</a>
        </div>
        
        <div class="dashboard-card">
            <h3>🚌 Bus Tracker</h3>
            <p>Track school bus location</p>
            <a href="{% url 'view_bus_tracker' %}" class="btn">Track Bus</a>
        </div>
        {% endif %}
        
        {% if role == 'teacher' %}
        <div class="dashboard-card">
            <h3>📝 Assignments</h3>
            <p>Create and grade assignments</p>
            <a href="{% url 'view_teacher_assignments' %}" class="btn">My Assignments</a>
            <a href="{% url 'create_assignment' %}" class="btn btn-success">Create Assignment</a>
        </div>
        {% endif %}
        
        <div class="dashboard-card">
            <h3>📢 Notice Board</h3>
            <p>View important announcements</p>
            <a href="{% url 'view_notices' %}" class="btn">View Notices</a>
        </div>
        
        <div class="dashboard-card">
            <h3>📌 Bulletin Board</h3>
            <p>View bulletins and updates</p>
            <a href="{% url 'view_bulletins' %}" class="btn">View Bulletins</a>
        </div>
        
    </div>
</div>
{% endblock %}
